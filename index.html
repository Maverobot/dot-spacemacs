<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2026-02-26 Thu 13:24 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Spacemacs tangled user configuration</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/code-copy.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/search.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/search.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/code-copy.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Spacemacs tangled user configuration</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org47a39e0">1. Introduction</a></li>
<li><a href="#orgef598f5">2. user-init</a>
<ul>
<li><a href="#orgb6b3fe0">2.1. Locale</a></li>
<li><a href="#orgec12ef0">2.2. Theme</a></li>
<li><a href="#org3eafb82">2.3. ROS</a></li>
<li><a href="#org5a96df8">2.4. Shell</a></li>
<li><a href="#orgdbf4e77">2.5. Layers</a>
<ul>
<li><a href="#org1d259bf">2.5.1. groovy</a></li>
</ul>
</li>
<li><a href="#orgc8907c7">2.6. Workarounds</a>
<ul>
<li><a href="#orge49a29a">2.6.1. Workaround for unsigned packages</a></li>
<li><a href="#orge804b09">2.6.2. Acknowledge org-roam-v2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc6c5623">3. user-config</a>
<ul>
<li><a href="#org7f7fa70">3.1. Performance</a>
<ul>
<li><a href="#org9276389">3.1.1. gcmh (Garbage Collection Magic Hack)</a></li>
</ul>
</li>
<li><a href="#org9b5941a">3.2. AI assistant</a>
<ul>
<li><a href="#orgb2b6c82">3.2.1. Aider</a></li>
<li><a href="#orgfea0988">3.2.2. copilot</a></li>
</ul>
</li>
<li><a href="#org862902a">3.3. IDE config</a>
<ul>
<li><a href="#org3af65dd">3.3.1. isort, compatible with black</a></li>
<li><a href="#orgab3ddf2">3.3.2. Add new line when a file is about to be saved</a></li>
<li><a href="#org334827e">3.3.3. Apply ANSI Color codes for buffer and region</a></li>
<li><a href="#org651de80">3.3.4. Disable auto-indent in C/C++ mode after typing <code>::</code></a></li>
<li><a href="#org23626a9">3.3.5. MacOS</a></li>
<li><a href="#org12fbae6">3.3.6. Prevent using UI dialogs for prompts</a></li>
<li><a href="#org295cbd8">3.3.7. ccls</a></li>
<li><a href="#org1200ae4">3.3.8. devcontainer</a></li>
<li><a href="#orgdc629b3">3.3.9. cmake-ide</a></li>
<li><a href="#org0f69f74">3.3.10. company</a></li>
<li><a href="#orgd2e515a">3.3.11. lsp-ui</a></li>
<li><a href="#orgdd6e473">3.3.12. popup</a></li>
<li><a href="#org2927e6e">3.3.13. dap</a></li>
<li><a href="#org0396659">3.3.14. flycheck</a></li>
<li><a href="#org3625eff">3.3.15. Indentation for web development</a></li>
<li><a href="#orgc9eb8bf">3.3.16. groovy (Jenkinsfile)</a></li>
<li><a href="#orgba92944">3.3.17. plantuml</a></li>
<li><a href="#org9a7c2d5">3.3.18. nvm</a></li>
<li><a href="#orgf046558">3.3.19. conf-mode</a></li>
<li><a href="#org1814710">3.3.20. Rust</a>
<ul>
<li><a href="#orge1923c2">3.3.20.1. Allow user input in the rust-run command</a></li>
</ul>
</li>
<li><a href="#org986a10f">3.3.21. scad-mode</a></li>
<li><a href="#org63da99d">3.3.22. Style for linux kernel development</a></li>
<li><a href="#orgcf86582">3.3.23. copilot</a></li>
<li><a href="#org31f0b5c">3.3.24. tramp + clang-format</a></li>
<li><a href="#orgf8caa21">3.3.25. Get current branch name in magit</a></li>
</ul>
</li>
<li><a href="#org5ab08d2">3.4. Miscellaneous</a>
<ul>
<li><a href="#orgbb6b7e4">3.4.1. popper</a></li>
<li><a href="#org6fefc2c">3.4.2. which-key-posframe</a></li>
<li><a href="#orga6fda3e">3.4.3. ultra-scroll</a></li>
<li><a href="#org082ca9a">3.4.4. spacious-padding</a></li>
<li><a href="#org3b54f40">3.4.5. Window Divider Visibility</a></li>
<li><a href="#org5cc539c">3.4.6. No title bar</a></li>
<li><a href="#org8f9186e">3.4.7. cursor</a></li>
<li><a href="#org69ca9f6">3.4.8. <code>C-a</code> for increasing number, <code>C-x</code> for descreasing number</a></li>
<li><a href="#orgcc592f0">3.4.9. Default python interpreter</a></li>
<li><a href="#org372733e">3.4.10. Disable spacemacs buffer warnings</a></li>
<li><a href="#org635f152">3.4.11. Find this file</a></li>
<li><a href="#orgc0875e6">3.4.12. <code>-</code> for going to the first non-blank position of the previous line</a></li>
<li><a href="#org93f9e67">3.4.13. Keybinding for Zoom in / out</a></li>
<li><a href="#org73b379a">3.4.14. Smart quit when pressing <code>SPC q q</code></a></li>
<li><a href="#org6d40ff2">3.4.15. Make <code>w</code> in vim mode move to end of the word (not stopped by <code>_</code>)</a></li>
<li><a href="#orgb940904">3.4.16. Smooth scrolling</a></li>
<li><a href="#org8eda914">3.4.17. Transparency settings</a></li>
<li><a href="#orgfaea740">3.4.18. Turn on xclip-mode</a></li>
<li><a href="#org2f9088b">3.4.19. Use windows key as meta key</a></li>
<li><a href="#org60b78d7">3.4.20. Visiting a file uses its truename as the visited-file name</a></li>
<li><a href="#org0b9dfda">3.4.21. Do not autosave undo history</a></li>
<li><a href="#org42dac1f">3.4.22. Native compilation</a></li>
</ul>
</li>
<li><a href="#org6282f30">3.5. org-mode</a>
<ul>
<li><a href="#org51115f0">3.5.1. Do not hide the macro markers</a></li>
<li><a href="#orgb3a6136">3.5.2. org-modern</a></li>
<li><a href="#org8328f6d">3.5.3. Export code blocks with current theme</a></li>
<li><a href="#org8277080">3.5.4. org-ai</a></li>
<li><a href="#org0c335cc">3.5.5. org-pomodora</a></li>
<li><a href="#orge487e3a">3.5.6. org-agenda</a></li>
<li><a href="#org41a5bd0">3.5.7. org-cv</a></li>
<li><a href="#orgb31a5e1">3.5.8. org-babel</a></li>
<li><a href="#org7ba3731">3.5.9. org-latex</a></li>
<li><a href="#org9ec2ef2">3.5.10. org-journal</a></li>
<li><a href="#org9fcd909">3.5.11. org-table</a></li>
<li><a href="#org5c3ec81">3.5.12. org-todo</a></li>
<li><a href="#org4e797ad">3.5.13. org-hugo</a></li>
<li><a href="#orgd793c97">3.5.14. org-roam</a>
<ul>
<li><a href="#orgd30cd19">3.5.14.1. Automatically sync the database</a></li>
<li><a href="#orgc9031c0">3.5.14.2. Migrate the current buffer from org-roam v1 to v2</a></li>
</ul>
</li>
<li><a href="#orga6195af">3.5.15. org-gcal</a></li>
<li><a href="#org06f08f9">3.5.16. org-clock</a>
<ul>
<li><a href="#org338c865">3.5.16.1. Save the clock history across Emacs sessions</a></li>
</ul>
</li>
<li><a href="#org320bec3">3.5.17. Replace selected markdown region to org format</a></li>
<li><a href="#org0c10ecd">3.5.18. ob-lean4</a></li>
<li><a href="#org6e2b9cc">3.5.19. ob-cmake</a></li>
<li><a href="#org044db7a">3.5.20. ob-rust</a></li>
</ul>
</li>
<li><a href="#org04f4d92">3.6. Utility</a>
<ul>
<li><a href="#org17444bf">3.6.1. beacon mode</a></li>
<li><a href="#orge583eb4">3.6.2. Toggle clang-format on save</a></li>
<li><a href="#org13b7755">3.6.3. auto-indent</a></li>
<li><a href="#org7faf8c5">3.6.4. format-all</a></li>
<li><a href="#org45b2f4e">3.6.5. glow, the markdown viewer</a></li>
<li><a href="#orgf67ae43">3.6.6. google-search</a></li>
<li><a href="#orgb23bf45">3.6.7. Kill all buffers</a></li>
<li><a href="#org06b1dca">3.6.8. ranger</a></li>
<li><a href="#orga5702e0">3.6.9. cheat.sh</a></li>
<li><a href="#org22df7e9">3.6.10. chatgpt-shell</a></li>
</ul>
</li>
<li><a href="#org6fb1e8a">3.7. mu4e</a>
<ul>
<li><a href="#orge66d860">3.7.1. Setup instructions (one-time)</a></li>
<li><a href="#org44fce05">3.7.2. Configuration</a></li>
</ul>
</li>
<li><a href="#orgfe2e3ef">3.8. Workarounds</a>
<ul>
<li><a href="#org1eafc02">3.8.1. Workaround for the bug where company-mode and evil-mode are conflicting</a></li>
<li><a href="#org1999262">3.8.2. doom-modeline icons in GUI vs terminal</a></li>
<li><a href="#org7fa2206">3.8.3. Workaround for spammed false positive warning messages</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org47a39e0" class="outline-2">
<h2 id="org47a39e0"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This is a org file where its code snippets will be read by <code>spacemacs</code> for <code>user-init</code> and <code>user-config</code>. It is inspired by <a href="https://github.com/ralesi/spacemacs.org">spacemacs.org</a>.
</p>
</div>
</div>
<div id="outline-container-orgef598f5" class="outline-2">
<h2 id="orgef598f5"><span class="section-number-2">2.</span> user-init</h2>
<div class="outline-text-2" id="text-2">
<p>
All code snippets under this section will be added to <code>dotspacemacs//user-init</code>
function, which is
</p>
<blockquote>
<p>
Initialization function for user code.
</p>

<p>
It is called immediately after
<code>dotspacemacs/init</code>, before layer configuration executes. This function is mostly
useful for variables that need to be set before packages are loaded. If you are
unsure, you should try in setting them in `dotspacemacs/user-config' first.
</p>
</blockquote>
</div>
<div id="outline-container-orgb6b3fe0" class="outline-3">
<h3 id="orgb6b3fe0"><span class="section-number-3">2.1.</span> Locale</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> system-time-locale <span class="org-string">"C"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgec12ef0" class="outline-3">
<h3 id="orgec12ef0"><span class="section-number-3">2.2.</span> Theme</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq-default</span> dotspacemacs-themes '<span class="org-rainbow-delimiters-depth-2">(</span>
                                    doom-one
                                    doom-monokai-pro
                                    spacemacs-dark
                                    doom-zenburn<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org3eafb82" class="outline-3">
<h3 id="org3eafb82"><span class="section-number-3">2.3.</span> ROS</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">spacemacs/update-ros-envs</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Update all environment variables in `</span><span class="org-doc"><span class="org-constant">spacemacs-ignored-environment-variables</span></span><span class="org-doc">'
from their values currently sourced in the shell environment (e.g. .bashrc)"</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> exec-path-from-shell-check-startup-files nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>exec-path-from-shell-copy-envs spacemacs-ignored-environment-variables<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>message <span class="org-string">"ROS environment copied successfully from shell"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>


<span class="org-comment-delimiter">;; </span><span class="org-comment">Ignore any ROS environment variables since they might change depending
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">on which catkin workspace is used. When a new catkin workspace is chosen
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">call `</span><span class="org-comment"><span class="org-constant">spacemacs/update-ros-envs</span></span><span class="org-comment">' to update theses envs accordingly
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq-default</span> spacemacs-ignored-environment-variables '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"ROS_IP"</span>
                                                        <span class="org-string">"PYTHONPATH"</span>
                                                        <span class="org-string">"CMAKE_PREFIX_PATH"</span>
                                                        <span class="org-string">"ROS_MASTER_URI"</span>
                                                        <span class="org-string">"ROS_PACKAGE_PATH"</span>
                                                        <span class="org-string">"ROSLISP_PACKAGE_DIRECTORIES"</span>
                                                        <span class="org-string">"PKG_CONFIG_PATH"</span>
                                                        <span class="org-string">"LD_LIBRARY_PATH"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org5a96df8" class="outline-3">
<h3 id="org5a96df8"><span class="section-number-3">2.4.</span> Shell</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Set shell to be <code>bash</code> explicitly because my default shell <code>fish</code> does not work along with spacemacs.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq-default</span> shell-file-name <span class="org-string">"/bin/bash"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgdbf4e77" class="outline-3">
<h3 id="orgdbf4e77"><span class="section-number-3">2.5.</span> Layers</h3>
<div class="outline-text-3" id="text-2-5">
</div>
<div id="outline-container-org1d259bf" class="outline-4">
<h4 id="org1d259bf"><span class="section-number-4">2.5.1.</span> groovy</h4>
<div class="outline-text-4" id="text-2-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> default-groovy-lsp-jar-path <span class="org-string">"~/.spacemacs.d/groovy-language-server-all.jar"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span>file-exists-p default-groovy-lsp-jar-path<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> groovy-lsp-jar-path default-groovy-lsp-jar-path<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>message <span class="org-rainbow-delimiters-depth-3">(</span>concat default-groovy-lsp-jar-path <span class="org-string">" does not exist"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc8907c7" class="outline-3">
<h3 id="orgc8907c7"><span class="section-number-3">2.6.</span> Workarounds</h3>
<div class="outline-text-3" id="text-2-6">
</div>
<div id="outline-container-orge49a29a" class="outline-4">
<h4 id="orge49a29a"><span class="section-number-4">2.6.1.</span> Workaround for unsigned packages</h4>
<div class="outline-text-4" id="text-2-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> gnutls-algorithm-priority <span class="org-string">"NORMAL:-VERS-TLS1.3"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orge804b09" class="outline-4">
<h4 id="orge804b09"><span class="section-number-4">2.6.2.</span> Acknowledge org-roam-v2</h4>
<div class="outline-text-4" id="text-2-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-roam-v2-ack t<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc6c5623" class="outline-2">
<h2 id="orgc6c5623"><span class="section-number-2">3.</span> user-config</h2>
<div class="outline-text-2" id="text-3">
<p>
All code snippets under this section will be added to <code>dotspacemacs//user-config</code>
function, which is
</p>
<blockquote>
<p>
Configuration function for user code.
</p>

<p>
This function is called at the very end of Spacemacs initialization after
layers configuration. You are free to put any user code.
</p>
</blockquote>
</div>
<div id="outline-container-org7f7fa70" class="outline-3">
<h3 id="org7f7fa70"><span class="section-number-3">3.1.</span> Performance</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org9276389" class="outline-4">
<h4 id="org9276389"><span class="section-number-4">3.1.1.</span> gcmh (Garbage Collection Magic Hack)</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Use idle-time garbage collection instead of a static threshold.
Collects garbage when Emacs is idle, keeping GC threshold high during active use.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> gcmh
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> gcmh-idle-delay 'auto       <span class="org-comment-delimiter">; </span><span class="org-comment">default: auto (based on `</span><span class="org-comment"><span class="org-constant">gcmh-auto-idle-delay-factor</span></span><span class="org-comment">')
</span>        gcmh-auto-idle-delay-factor <span class="org-highlight-numbers-number">10</span>
        gcmh-high-cons-threshold <span class="org-rainbow-delimiters-depth-3">(</span>* <span class="org-highlight-numbers-number">128</span> <span class="org-highlight-numbers-number">1024</span> <span class="org-highlight-numbers-number">1024</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>  <span class="org-comment-delimiter">; </span><span class="org-comment">128MB during active use
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>gcmh-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9b5941a" class="outline-3">
<h3 id="org9b5941a"><span class="section-number-3">3.2.</span> AI assistant</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orgb2b6c82" class="outline-4">
<h4 id="orgb2b6c82"><span class="section-number-4">3.2.1.</span> Aider</h4>
<div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aa"</span> 'aidermacs-transient-menu<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> aidermacs-default-model <span class="org-string">"github_copilot/claude-sonnet-4.5"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> aidermacs-weak-model <span class="org-string">"github_copilot/gpt-5-mini"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> aidermacs-backend 'vterm<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> aidermacs-default-chat-mode 'code<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgfea0988" class="outline-4">
<h4 id="orgfea0988"><span class="section-number-4">3.2.2.</span> copilot</h4>
<div class="outline-text-4" id="text-3-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'copilot-chat
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> copilot-chat-default-model <span class="org-string">"gpt-5-mini"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Keybindings (available immediately, autoload copilot-chat when used)
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"ai"</span> <span class="org-string">"AI"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aic"</span> 'copilot-chat<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aif"</span> 'copilot-chat-fix<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"air"</span> 'copilot-chat-review<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aie"</span> 'copilot-chat-explain<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aio"</span> 'copilot-chat-optimize<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aid"</span> 'copilot-chat-doc<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"ait"</span> 'copilot-chat-test<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aiq"</span> 'copilot-chat-quotas<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org862902a" class="outline-3">
<h3 id="org862902a"><span class="section-number-3">3.3.</span> IDE config</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org3af65dd" class="outline-4">
<h4 id="org3af65dd"><span class="section-number-4">3.3.1.</span> isort, compatible with black</h4>
<div class="outline-text-4" id="text-3-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> py-isort-options '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"--profile"</span> <span class="org-string">"black"</span> <span class="org-string">"--filename"</span> buffer-file-name<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgab3ddf2" class="outline-4">
<h4 id="orgab3ddf2"><span class="section-number-4">3.3.2.</span> Add new line when a file is about to be saved</h4>
<div class="outline-text-4" id="text-3-3-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> require-final-newline t<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org334827e" class="outline-4">
<h4 id="org334827e"><span class="section-number-4">3.3.3.</span> Apply ANSI Color codes for buffer and region</h4>
<div class="outline-text-4" id="text-3-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">apply-ansi-color-codes-to-region</span> <span class="org-rainbow-delimiters-depth-2">(</span>beginning end<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"Apply ANSI color codes to the selected region."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span> <span class="org-string">"r"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>ansi-color-apply-on-region beginning end<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">apply-ansi-color-codes-to-buffer</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Apply ANSI color codes to the whole buffer."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>apply-ansi-color-codes-to-region <span class="org-rainbow-delimiters-depth-3">(</span>point-min<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-3">(</span>point-max<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org651de80" class="outline-4">
<h4 id="org651de80"><span class="section-number-4">3.3.4.</span> Disable auto-indent in C/C++ mode after typing <code>::</code></h4>
<div class="outline-text-4" id="text-3-3-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Disable electric indentation in C and C++ modes
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">my-disable-electric-indent-mode</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq-local</span> c-electric-flag nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Hook this function to C mode and C++ mode
</span><span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'c-mode-hook 'my-disable-electric-indent-mode<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'c++-mode-hook 'my-disable-electric-indent-mode<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org23626a9" class="outline-4">
<h4 id="org23626a9"><span class="section-number-4">3.3.5.</span> MacOS</h4>
<div class="outline-text-4" id="text-3-3-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">; </span><span class="org-comment">Use Command key as meta in emacs
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> mac-option-key-is-meta nil
      mac-command-key-is-meta t
      mac-command-modifier 'meta
      mac-option-modifier 'none<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org12fbae6" class="outline-4">
<h4 id="org12fbae6"><span class="section-number-4">3.3.6.</span> Prevent using UI dialogs for prompts</h4>
<div class="outline-text-4" id="text-3-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> use-dialog-box nil<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org295cbd8" class="outline-4">
<h4 id="org295cbd8"><span class="section-number-4">3.3.7.</span> ccls</h4>
<div class="outline-text-4" id="text-3-3-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'ccls
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> ccls-root-files <span class="org-rainbow-delimiters-depth-3">(</span>add-to-list 'ccls-root-files <span class="org-string">"build/compile_commands.json"</span> t<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> ccls-sem-highlight-method 'font-lock<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> ccls-initialization-options
        <span class="org-rainbow-delimiters-depth-3">(</span>list <span class="org-builtin">:cache</span> <span class="org-rainbow-delimiters-depth-4">(</span>list <span class="org-builtin">:directory</span> <span class="org-rainbow-delimiters-depth-5">(</span>file-truename <span class="org-rainbow-delimiters-depth-6">(</span>concat <span class="org-rainbow-delimiters-depth-7">(</span>file-name-as-directory spacemacs-cache-directory<span class="org-rainbow-delimiters-depth-7">)</span> <span class="org-string">".ccls-cache"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
              <span class="org-builtin">:compilationDatabaseDirectory</span> <span class="org-string">"build"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Only set the specific ccls path if it exists
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-3">(</span>file-exists-p <span class="org-string">"~/.spacemacs.d/ccls/Release/ccls"</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> ccls-executable <span class="org-rainbow-delimiters-depth-4">(</span>file-truename <span class="org-string">"~/.spacemacs.d/ccls/Release/ccls"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org1200ae4" class="outline-4">
<h4 id="org1200ae4"><span class="section-number-4">3.3.8.</span> devcontainer</h4>
<div class="outline-text-4" id="text-3-3-8">
<p>
Enable <code>devcontainer-mode</code> globally so that <code>M-x compile</code> (<code>SPC c c</code>) runs inside the devcontainer when the project has a <code>.devcontainer/devcontainer.json</code>.
The devcontainer CLI is installed outside the default <code>PATH</code>, so we add its directory to <code>exec-path</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Make the devcontainer CLI discoverable
</span>  <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>devcontainer-bin-dir <span class="org-rainbow-delimiters-depth-4">(</span>expand-file-name <span class="org-string">"~/.devcontainers/bin"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-3">(</span>file-directory-p devcontainer-bin-dir<span class="org-rainbow-delimiters-depth-3">)</span>
      <span class="org-rainbow-delimiters-depth-3">(</span>add-to-list 'exec-path devcontainer-bin-dir<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable devcontainer-mode globally &#8212; advises `</span><span class="org-comment"><span class="org-constant">compilation-start</span></span><span class="org-comment">'
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">to run inside the container when a devcontainer.json is present
</span>  <span class="org-rainbow-delimiters-depth-1">(</span>devcontainer-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-1">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use vterm for devcontainer-term
</span>  <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'devcontainer
    <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defun</span> <span class="org-function-name">devcontainer-vterm</span> <span class="org-rainbow-delimiters-depth-3">(</span>command<span class="org-rainbow-delimiters-depth-3">)</span>
      <span class="org-doc">"Open a vterm buffer running COMMAND inside the devcontainer.
Creates a new terminal each time; buffers are named with incrementing numbers."</span>
      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">require</span> '<span class="org-constant">vterm</span><span class="org-rainbow-delimiters-depth-3">)</span>
      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>base-name <span class="org-rainbow-delimiters-depth-6">(</span>format <span class="org-string">"*devcontainer-term: %s*"</span>
                                <span class="org-rainbow-delimiters-depth-7">(</span>project-name <span class="org-rainbow-delimiters-depth-8">(</span>project-current<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
             <span class="org-rainbow-delimiters-depth-5">(</span>buf <span class="org-rainbow-delimiters-depth-6">(</span>generate-new-buffer base-name<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">with-current-buffer</span> buf
          <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>vterm-shell command<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
            <span class="org-rainbow-delimiters-depth-6">(</span>vterm-mode<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-4">(</span>pop-to-buffer buf<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> devcontainer-term-function #'devcontainer-vterm<span class="org-rainbow-delimiters-depth-2">)</span>

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Fix: devcontainer.el does not implement ${localEnv:VAR}
</span>    <span class="org-comment-delimiter">;; </span><span class="org-comment">interpolation, which causes errors when remoteEnv references
</span>    <span class="org-comment-delimiter">;; </span><span class="org-comment">host environment variables (e.g. DISPLAY).
</span>    <span class="org-rainbow-delimiters-depth-2">(</span>advice-add 'devcontainer--lookup-variable <span class="org-builtin">:around</span>
                <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">(</span>orig-fn match<span class="org-rainbow-delimiters-depth-4">)</span>
                  <span class="org-doc">"Add ${localEnv:VAR} support to devcontainer variable interpolation."</span>
                  <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-5">(</span>funcall orig-fn match<span class="org-rainbow-delimiters-depth-5">)</span>
                      <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">save-match-data</span>
                        <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-7">(</span>string-match <span class="org-string">"\\${localEnv:</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">}]+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">}"</span> match<span class="org-rainbow-delimiters-depth-7">)</span>
                          <span class="org-rainbow-delimiters-depth-7">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-8">(</span>getenv <span class="org-rainbow-delimiters-depth-9">(</span>match-string <span class="org-highlight-numbers-number">1</span> match<span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span> <span class="org-string">""</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Keybindings under SPC d
</span>  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"DD"</span> <span class="org-string">"devcontainer"</span><span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"DDu"</span> 'devcontainer-up<span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"DDr"</span> 'devcontainer-restart<span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"DDR"</span> 'devcontainer-rebuild-and-restart<span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"DDt"</span> 'devcontainer-term<span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"DDx"</span> 'devcontainer-execute-command<span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"DDk"</span> 'devcontainer-kill-container<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgdc629b3" class="outline-4">
<h4 id="orgdc629b3"><span class="section-number-4">3.3.9.</span> cmake-ide</h4>
<div class="outline-text-4" id="text-3-3-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">C++ build dir setting
</span><span class="org-rainbow-delimiters-depth-1">(</span>put 'cmake-ide-dir 'safe-local-variable 'stringp<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>put 'cmake-ide-make-command 'safe-local-variable 'stringp<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>put 'cmake-ide-cmake-args 'safe-local-variable 'stringp<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Configure neocmakelsp
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'lsp-mode
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Note: '</span><span class="org-comment"><span class="org-constant">stdio</span></span><span class="org-comment">' should not have dashes
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>lsp-register-client
   <span class="org-rainbow-delimiters-depth-3">(</span>make-lsp-client <span class="org-builtin">:new-connection</span> <span class="org-rainbow-delimiters-depth-4">(</span>lsp-stdio-connection '<span class="org-rainbow-delimiters-depth-5">(</span><span class="org-string">"neocmakelsp"</span> <span class="org-string">"stdio"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
                    <span class="org-builtin">:activation-fn</span> <span class="org-rainbow-delimiters-depth-4">(</span>lsp-activate-on <span class="org-string">"cmake"</span><span class="org-rainbow-delimiters-depth-4">)</span>
                    <span class="org-builtin">:server-id</span> 'neocmakelsp<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'cmake-mode-hook #'lsp<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org0f69f74" class="outline-4">
<h4 id="org0f69f74"><span class="section-number-4">3.3.10.</span> company</h4>
<div class="outline-text-4" id="text-3-3-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'company
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key company-active-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-n"</span><span class="org-rainbow-delimiters-depth-3">)</span> nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key company-active-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-p"</span><span class="org-rainbow-delimiters-depth-3">)</span> nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key company-active-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-j"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'company-select-next<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key company-active-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-k"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'company-select-previous<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgd2e515a" class="outline-4">
<h4 id="orgd2e515a"><span class="section-number-4">3.3.11.</span> lsp-ui</h4>
<div class="outline-text-4" id="text-3-3-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'lsp-ui
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key lsp-ui-peek-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-j"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'lsp-ui-peek--select-next<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key lsp-ui-peek-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"j"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'lsp-ui-peek--select-next<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key lsp-ui-peek-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-k"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'lsp-ui-peek--select-prev<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key lsp-ui-peek-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"k"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'lsp-ui-peek--select-prev<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgdd6e473" class="outline-4">
<h4 id="orgdd6e473"><span class="section-number-4">3.3.12.</span> popup</h4>
<div class="outline-text-4" id="text-3-3-12">
<p>
Use evil keybindings for selecting items in popup menus.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'popup
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key popup-menu-keymap <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-j"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'popup-next<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key popup-menu-keymap <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-k"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'popup-previous<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org2927e6e" class="outline-4">
<h4 id="org2927e6e"><span class="section-number-4">3.3.13.</span> dap</h4>
<div class="outline-text-4" id="text-3-3-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'dap-stopped-hook
          <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">(</span>arg<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-3">(</span>call-interactively #'dap-hydra<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'dap-stopped-hook
          <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">(</span>arg<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-3">(</span>call-interactively #'dap-hydra<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org0396659" class="outline-4">
<h4 id="org0396659"><span class="section-number-4">3.3.14.</span> flycheck</h4>
<div class="outline-text-4" id="text-3-3-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'flycheck
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> flycheck-check-syntax-automatically '<span class="org-rainbow-delimiters-depth-3">(</span>save
                                              idle-buffer-switch
                                              mode-enabled<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org3625eff" class="outline-4">
<h4 id="org3625eff"><span class="section-number-4">3.3.15.</span> Indentation for web development</h4>
<div class="outline-text-4" id="text-3-3-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">setup-web-dev-indent</span> <span class="org-rainbow-delimiters-depth-2">(</span>n<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">web development
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> coffee-tab-width n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">coffeescript
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> javascript-indent-level n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">javascript-mode
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> js-indent-level n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">js-mode
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> js2-basic-offset n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">js2-mode, in latest js2-mode, it's alias of js-indent-level
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> web-mode-markup-indent-offset n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">web-mode, html tag in html file
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> web-mode-css-indent-offset n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">web-mode, css in html file
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> web-mode-code-indent-offset n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">web-mode, js code in html file
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> css-indent-offset n<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">css-mode
</span>  <span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>setup-web-dev-indent <span class="org-highlight-numbers-number">2</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgc9eb8bf" class="outline-4">
<h4 id="orgc9eb8bf"><span class="section-number-4">3.3.16.</span> groovy (Jenkinsfile)</h4>
<div class="outline-text-4" id="text-3-3-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> groovy-indent-offset <span class="org-highlight-numbers-number">2</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgba92944" class="outline-4">
<h4 id="orgba92944"><span class="section-number-4">3.3.17.</span> plantuml</h4>
<div class="outline-text-4" id="text-3-3-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>fboundp 'plantuml-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-src</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable plantuml-mode for all *.pu files by default
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'auto-mode-alist '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.pu\\'"</span> . plantuml-mode<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-plantuml-jar-path plantuml-jar-path<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'org-src-lang-modes '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"plantuml"</span> . plantuml<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-babel-do-load-languages 'org-babel-load-languages '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>plantuml . t<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> plantuml-svg-background <span class="org-string">"white"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> plantuml-indent-level <span class="org-highlight-numbers-number">2</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org9a7c2d5" class="outline-4">
<h4 id="org9a7c2d5"><span class="section-number-4">3.3.18.</span> nvm</h4>
<div class="outline-text-4" id="text-3-3-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">TODO: use the default version instead of hard-coding the specific version
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">condition-case</span> err
    <span class="org-rainbow-delimiters-depth-2">(</span>nvm-use <span class="org-string">"20"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-warning">error</span> <span class="org-rainbow-delimiters-depth-3">(</span>message <span class="org-string">"Could not initialize nvm for emacs. %s"</span> <span class="org-rainbow-delimiters-depth-4">(</span>error-message-string err<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgf046558" class="outline-4">
<h4 id="orgf046558"><span class="section-number-4">3.3.19.</span> conf-mode</h4>
<div class="outline-text-4" id="text-3-3-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'auto-mode-alist '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\\.eds\\'"</span> . conf-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'auto-mode-alist '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\\.dcf\\'"</span> . conf-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org1814710" class="outline-4">
<h4 id="org1814710"><span class="section-number-4">3.3.20.</span> Rust</h4>
<div class="outline-text-4" id="text-3-3-20">
</div>
<div id="outline-container-orge1923c2" class="outline-5">
<h5 id="orge1923c2"><span class="section-number-5">3.3.20.1.</span> Allow user input in the rust-run command</h5>
<div class="outline-text-5" id="text-3-3-20-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys-for-major-mode 'rustic-mode <span class="org-string">"cx"</span> 'rustic-cargo-run-with-user-input<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">rustic-cargo-run-with-user-input</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Build and run Rust code."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>rustic-cargo-run<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-3">(</span>
        <span class="org-rainbow-delimiters-depth-4">(</span>orig-win <span class="org-rainbow-delimiters-depth-5">(</span>selected-window<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-4">(</span>run-win <span class="org-rainbow-delimiters-depth-5">(</span>display-buffer <span class="org-rainbow-delimiters-depth-6">(</span>get-buffer <span class="org-string">"*cargo-run*"</span><span class="org-rainbow-delimiters-depth-6">)</span> nil 'visible<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>select-window run-win<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>comint-mode<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>read-only-mode <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>select-window orig-win<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org986a10f" class="outline-4">
<h4 id="org986a10f"><span class="section-number-4">3.3.21.</span> scad-mode</h4>
<div class="outline-text-4" id="text-3-3-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> scad-mode
  <span class="org-builtin">:load-path</span> <span class="org-string">"~/.spacemacs.d/private/scad-mode"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'scad-mode-hook 'flymake-mode-on<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'scad-mode
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-h"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-rotate-z-<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-l"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-rotate-z+<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-k"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-rotate-x-<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-j"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-rotate-x+<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-h"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-distance-<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-l"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-distance+<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-k"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-translate-z+<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key scad-preview-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-j"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'scad-preview-translate-z-<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org63da99d" class="outline-4">
<h4 id="org63da99d"><span class="section-number-4">3.3.22.</span> Style for linux kernel development</h4>
<div class="outline-text-4" id="text-3-3-22">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Linux kernel development
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">c-lineup-arglist-tabs-only</span> <span class="org-rainbow-delimiters-depth-2">(</span>ignored<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"Line up argument lists by tabs, not spaces"</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>anchor <span class="org-rainbow-delimiters-depth-5">(</span>c-langelem-pos c-syntactic-element<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-rainbow-delimiters-depth-4">(</span>column <span class="org-rainbow-delimiters-depth-5">(</span>c-langelem-2nd-pos c-syntactic-element<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-rainbow-delimiters-depth-4">(</span>offset <span class="org-rainbow-delimiters-depth-5">(</span>- <span class="org-rainbow-delimiters-depth-6">(</span>1+ column<span class="org-rainbow-delimiters-depth-6">)</span> anchor<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-rainbow-delimiters-depth-4">(</span>steps <span class="org-rainbow-delimiters-depth-5">(</span>floor offset c-basic-offset<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>* <span class="org-rainbow-delimiters-depth-4">(</span>max steps <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-4">)</span>
       c-basic-offset<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'c-mode-common-hook
          <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span>
            <span class="org-comment-delimiter">;; </span><span class="org-comment">Add kernel style
</span>            <span class="org-rainbow-delimiters-depth-3">(</span>c-add-style
             <span class="org-string">"linux-tabs-only"</span>
             '<span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"linux"</span> <span class="org-rainbow-delimiters-depth-5">(</span>c-offsets-alist
                        <span class="org-rainbow-delimiters-depth-6">(</span>arglist-cont-nonempty
                         c-lineup-gcc-asm-reg
                         c-lineup-arglist-tabs-only<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'c-mode-hook
          <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span>
            <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>filename <span class="org-rainbow-delimiters-depth-6">(</span>buffer-file-name<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
              <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable kernel mode for the appropriate files
</span>              <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">and</span> filename
                         <span class="org-comment-delimiter">;; </span><span class="org-comment">TODO: avoid the harded coded path
</span>                         <span class="org-rainbow-delimiters-depth-6">(</span>string-match <span class="org-rainbow-delimiters-depth-7">(</span>expand-file-name <span class="org-string">"~/Dev/kernels"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                                       filename<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
                <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">setq</span> indent-tabs-mode t<span class="org-rainbow-delimiters-depth-5">)</span>
                <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">setq</span> show-trailing-whitespace t<span class="org-rainbow-delimiters-depth-5">)</span>
                <span class="org-rainbow-delimiters-depth-5">(</span>c-set-style <span class="org-string">"linux-tabs-only"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgcf86582" class="outline-4">
<h4 id="orgcf86582"><span class="section-number-4">3.3.23.</span> copilot</h4>
<div class="outline-text-4" id="text-3-3-23">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> copilot-node-executable <span class="org-rainbow-delimiters-depth-2">(</span>executable-find <span class="org-string">"node"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'company
  <span class="org-comment-delimiter">;; </span><span class="org-comment">disable inline previews
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>delq 'company-preview-if-just-one-frontend company-frontends<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Keybindings
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'copilot
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key copilot-completion-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"&lt;tab&gt;"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'copilot-accept-completion<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key copilot-completion-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"TAB"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'copilot-accept-completion<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key copilot-completion-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-TAB"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'copilot-accept-completion-by-word<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key copilot-completion-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-&lt;tab&gt;"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'copilot-accept-completion-by-word<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Enable copilot mode in programming modes, markdown-mode and org-mode
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Only activate hooks if copilot is installed
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'copilot
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'prog-mode-hook 'copilot-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'markdown-mode-hook 'copilot-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'org-mode-hook 'copilot-mode<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Disable the warning message
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'copilot-mode-hook <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">()</span>
                                 <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq-local</span> copilot--indent-warning-printed-p t<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org31f0b5c" class="outline-4">
<h4 id="org31f0b5c"><span class="section-number-4">3.3.24.</span> tramp + clang-format</h4>
<div class="outline-text-4" id="text-3-3-24">
<p>
clang-format does not work properly when editing a file on a remote host or in a docker container with tramp.
See the issue here: <a href="https://github.com/kljohann/clang-format.el/issues/5">https://github.com/kljohann/clang-format.el/issues/5</a>
</p>

<p>
Here upon <code>clang-format-region</code> call, we first check if the file is on a remote host or in a docker container.
</p>
<ul class="org-ul">
<li>If not, we call <code>clang-format-region</code> as usual.</li>
<li>If yes, we first check if a file with the same path exists on the local disk.
<ul class="org-ul">
<li>If yes, we assume it as the input file name for <code>clang-format-region</code>.</li>
<li>If not, we assume the input file is under the $HOME directory.</li>
</ul></li>
</ul>

<p>
Depending on where the input file is assumed to be, <code>clang-format</code> will find the <code>.clang-format</code> file for
the formatting in a dominant parent directory of the assumed input file path.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">tramp-aware-clang-format</span> <span class="org-rainbow-delimiters-depth-2">(</span>orig-fun start end <span class="org-type">&amp;optional</span> style assume-file-name<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">unless</span> assume-file-name
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> assume-file-name
          <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-5">(</span>file-remote-p buffer-file-name<span class="org-rainbow-delimiters-depth-5">)</span>
              <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>maybe-existing-local-buffer-file-name <span class="org-rainbow-delimiters-depth-8">(</span>replace-regexp-in-string <span class="org-string">"/docker:[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">:]+:"</span> <span class="org-string">""</span> buffer-file-name<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
                <span class="org-comment-delimiter">;; </span><span class="org-comment">If file `</span><span class="org-comment"><span class="org-constant">maybe-existing-local-buffer-file-name</span></span><span class="org-comment">' exists on local disk, use it.
</span>                <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-7">(</span>file-exists-p maybe-existing-local-buffer-file-name<span class="org-rainbow-delimiters-depth-7">)</span>
                    maybe-existing-local-buffer-file-name
                  <span class="org-comment-delimiter">;; </span><span class="org-comment">Otherwise, use `</span><span class="org-comment"><span class="org-constant">buffer-file-name</span></span><span class="org-comment">' as if it is under the $HOME directory.
</span>                  <span class="org-rainbow-delimiters-depth-7">(</span>concat <span class="org-rainbow-delimiters-depth-8">(</span>getenv <span class="org-string">"HOME"</span><span class="org-rainbow-delimiters-depth-8">)</span> <span class="org-string">"/"</span> <span class="org-rainbow-delimiters-depth-8">(</span>file-name-nondirectory buffer-file-name<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
            buffer-file-name<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>message <span class="org-string">"assume-file-name: %s"</span> assume-file-name<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>apply orig-fun <span class="org-rainbow-delimiters-depth-3">(</span>list start end style assume-file-name<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>advice-add 'clang-format-region <span class="org-builtin">:around</span> #'tramp-aware-clang-format<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgf8caa21" class="outline-4">
<h4 id="orgf8caa21"><span class="section-number-4">3.3.25.</span> Get current branch name in magit</h4>
<div class="outline-text-4" id="text-3-3-25">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">magit-add-current-branch-name-to-kill-ring</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Show the current branch in the echo-area and add it to the `</span><span class="org-doc"><span class="org-constant">kill-ring</span></span><span class="org-doc">'."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>branch <span class="org-rainbow-delimiters-depth-5">(</span>magit-get-current-branch<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">if</span> branch
        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">progn</span> <span class="org-rainbow-delimiters-depth-5">(</span>kill-new branch<span class="org-rainbow-delimiters-depth-5">)</span>
               <span class="org-rainbow-delimiters-depth-5">(</span>message <span class="org-string">"%s"</span> branch<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
      <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-warning">user-error</span> <span class="org-string">"There is not current branch"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">; </span><span class="org-comment">TODO: Move this keybinding from "Checkout" to "Do" section
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'magit
  <span class="org-rainbow-delimiters-depth-2">(</span>transient-insert-suffix 'magit-branch <span class="org-string">"b"</span>
    '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"k"</span> <span class="org-string">"copy branch name"</span> magit-add-current-branch-name-to-kill-ring<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org5ab08d2" class="outline-3">
<h3 id="org5ab08d2"><span class="section-number-3">3.4.</span> Miscellaneous</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-orgbb6b7e4" class="outline-4">
<h4 id="orgbb6b7e4"><span class="section-number-4">3.4.1.</span> popper</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
Tame ephemeral popup buffers (help, compilation, shells, REPLs).
Toggle with <code>C-`</code>, cycle with <code>M-`</code>, promote/demote with <code>C-M-`</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> popper
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-`"</span>   . popper-toggle<span class="org-rainbow-delimiters-depth-3">)</span>
         <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-`"</span>   . popper-cycle<span class="org-rainbow-delimiters-depth-3">)</span>
         <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-M-`"</span> . popper-toggle-type<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> popper-reference-buffers
        '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\*Messages\\*"</span>
          <span class="org-string">"\\*Warnings\\*"</span>
          <span class="org-string">"\\*Backtrace\\*"</span>
          <span class="org-string">"\\*Compile-Log\\*"</span>
          <span class="org-string">"Output\\*$"</span>
          <span class="org-string">"\\*Async Shell Command\\*"</span>
          help-mode
          helpful-mode
          compilation-mode
          flycheck-error-list-mode
          grep-mode
          occur-mode
          <span class="org-string">"^\\*eshell.*\\*$"</span> eshell-mode
          <span class="org-string">"^\\*shell.*\\*$"</span>  shell-mode
          <span class="org-string">"^\\*term.*\\*$"</span>   term-mode
          <span class="org-string">"^\\*vterm.*\\*$"</span>  vterm-mode<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> popper-group-function #'popper-group-by-projectile<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>popper-mode <span class="org-highlight-numbers-number">+1</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>popper-echo-mode <span class="org-highlight-numbers-number">+1</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org6fefc2c" class="outline-4">
<h4 id="org6fefc2c"><span class="section-number-4">3.4.2.</span> which-key-posframe</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
Show which-key popup as a floating frame centered on screen (GUI only).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> which-key-posframe
  <span class="org-builtin">:after</span> which-key
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> which-key-posframe-poshandler 'posframe-poshandler-frame-center
        which-key-posframe-border-width <span class="org-highlight-numbers-number">2</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-3">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>which-key-posframe-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'after-make-frame-functions
            <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">(</span>frame<span class="org-rainbow-delimiters-depth-4">)</span>
              <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">with-selected-frame</span> frame
                <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-6">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-6">)</span>
                    <span class="org-rainbow-delimiters-depth-6">(</span>which-key-posframe-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-6">)</span>
                  <span class="org-rainbow-delimiters-depth-6">(</span>which-key-posframe-mode <span class="org-highlight-numbers-number">-1</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orga6fda3e" class="outline-4">
<h4 id="orga6fda3e"><span class="section-number-4">3.4.3.</span> ultra-scroll</h4>
<div class="outline-text-4" id="text-3-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> ultra-scroll
<span class="org-builtin">:init</span>
<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> scroll-conservatively <span class="org-highlight-numbers-number">101</span> <span class="org-comment-delimiter">; </span><span class="org-comment">important!
</span>      scroll-margin <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-2">)</span>
<span class="org-builtin">:config</span>
<span class="org-rainbow-delimiters-depth-2">(</span>ultra-scroll-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org082ca9a" class="outline-4">
<h4 id="org082ca9a"><span class="section-number-4">3.4.4.</span> spacious-padding</h4>
<div class="outline-text-4" id="text-3-4-4">
<p>
Add breathing room around windows, mode lines, and frame borders.
</p>

<p>
Note: The <code>:right-divider-width 20</code> setting works together with <code>window-divider-mode</code>.
See <a href="#org3b54f40">Window Divider Visibility</a> section for divider color customization.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> spacious-padding
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> spacious-padding-widths
        '<span class="org-rainbow-delimiters-depth-3">(</span> <span class="org-builtin">:internal-border-width</span> <span class="org-highlight-numbers-number">10</span>
           <span class="org-builtin">:header-line-width</span> <span class="org-highlight-numbers-number">4</span>
           <span class="org-builtin">:mode-line-width</span> <span class="org-highlight-numbers-number">4</span>
           <span class="org-builtin">:right-divider-width</span> <span class="org-highlight-numbers-number">20</span>
           <span class="org-builtin">:scroll-bar-width</span> <span class="org-highlight-numbers-number">8</span>
           <span class="org-builtin">:fringe-width</span> <span class="org-highlight-numbers-number">8</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Only enable in GUI frames
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-3">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>spacious-padding-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Re-check when creating new frames (e.g. emacsclient)
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'after-make-frame-functions
            <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">(</span>frame<span class="org-rainbow-delimiters-depth-4">)</span>
              <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">with-selected-frame</span> frame
                <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-6">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-6">)</span>
                    <span class="org-rainbow-delimiters-depth-6">(</span>spacious-padding-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-6">)</span>
                  <span class="org-rainbow-delimiters-depth-6">(</span>spacious-padding-mode <span class="org-highlight-numbers-number">-1</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org3b54f40" class="outline-4">
<h4 id="org3b54f40"><span class="section-number-4">3.4.5.</span> Window Divider Visibility</h4>
<div class="outline-text-4" id="text-3-4-5">
<p>
Window dividers are enabled via <code>window-divider-mode</code> to show pixel-based separators
between split windows. By default, <code>spacious-padding</code> makes these invisible (matching
background color), but we override this to make them subtly visible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Configure window-divider widths to match spacious-padding
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> window-divider-default-right-width <span class="org-highlight-numbers-number">20</span>
      window-divider-default-bottom-width <span class="org-highlight-numbers-number">1</span>
      window-divider-default-places 'right-only<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Enable window-divider-mode in GUI frames
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>window-divider-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Make window dividers subtly visible (override spacious-padding's invisible style)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Using #3f444a - a subtle gray approximately 10% lighter than doom-one background
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">my/set-visible-window-dividers</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Set window divider faces to be subtly visible."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>divider-color <span class="org-string">"#3f444a"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>set-face-foreground 'window-divider divider-color<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>set-face-foreground 'window-divider-first-pixel divider-color<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>set-face-foreground 'window-divider-last-pixel divider-color<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Apply after theme loads
</span><span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'spacemacs-post-theme-change-hook #'my/set-visible-window-dividers<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Apply when idle (runs after theme loads at startup)
</span><span class="org-rainbow-delimiters-depth-1">(</span>run-with-idle-timer <span class="org-highlight-numbers-number">0</span> nil #'my/set-visible-window-dividers<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Re-apply for new frames (emacsclient)
</span><span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'after-make-frame-functions
          <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">(</span>frame<span class="org-rainbow-delimiters-depth-3">)</span>
            <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">with-selected-frame</span> frame
              <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-5">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-5">)</span>
                <span class="org-rainbow-delimiters-depth-5">(</span>window-divider-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-5">)</span>
                <span class="org-rainbow-delimiters-depth-5">(</span>my/set-visible-window-dividers<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org5cc539c" class="outline-4">
<h4 id="org5cc539c"><span class="section-number-4">3.4.6.</span> No title bar</h4>
<div class="outline-text-4" id="text-3-4-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'default-frame-alist '<span class="org-rainbow-delimiters-depth-2">(</span>undecorated-round . t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org8f9186e" class="outline-4">
<h4 id="org8f9186e"><span class="section-number-4">3.4.7.</span> cursor</h4>
<div class="outline-text-4" id="text-3-4-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">; </span><span class="org-comment">Display Emacs cursor in terminal as it would be in GUI
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(global-term-cursor-mode)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org69ca9f6" class="outline-4">
<h4 id="org69ca9f6"><span class="section-number-4">3.4.8.</span> <code>C-a</code> for increasing number, <code>C-x</code> for descreasing number</h4>
<div class="outline-text-4" id="text-3-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">evil-define-key</span> 'normal global-map <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-a"</span><span class="org-rainbow-delimiters-depth-2">)</span> 'evil-numbers/inc-at-pt<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">evil-define-key</span> 'normal global-map <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-x"</span><span class="org-rainbow-delimiters-depth-2">)</span> 'evil-numbers/dec-at-pt<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgcc592f0" class="outline-4">
<h4 id="orgcc592f0"><span class="section-number-4">3.4.9.</span> Default python interpreter</h4>
<div class="outline-text-4" id="text-3-4-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> python-shell-interpreter <span class="org-rainbow-delimiters-depth-2">(</span>executable-find <span class="org-string">"python3"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org372733e" class="outline-4">
<h4 id="org372733e"><span class="section-number-4">3.4.10.</span> Disable spacemacs buffer warnings</h4>
<div class="outline-text-4" id="text-3-4-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> spacemacs-buffer--warnings nil<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org635f152" class="outline-4">
<h4 id="org635f152"><span class="section-number-4">3.4.11.</span> Find this file</h4>
<div class="outline-text-4" id="text-3-4-11">
<p>
Create binding to spacemacs.org file
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">spacemacs/find-config-file</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>find-file <span class="org-rainbow-delimiters-depth-3">(</span>concat dotspacemacs-directory <span class="org-string">"/spacemacs.org"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"fec"</span> 'spacemacs/find-config-file<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgc0875e6" class="outline-4">
<h4 id="orgc0875e6"><span class="section-number-4">3.4.12.</span> <code>-</code> for going to the first non-blank position of the previous line</h4>
<div class="outline-text-4" id="text-3-4-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">evil-define-key</span> 'normal global-map <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"-"</span><span class="org-rainbow-delimiters-depth-2">)</span> 'evil-previous-line-first-non-blank<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org93f9e67" class="outline-4">
<h4 id="org93f9e67"><span class="section-number-4">3.4.13.</span> Keybinding for Zoom in / out</h4>
<div class="outline-text-4" id="text-3-4-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>define-key <span class="org-rainbow-delimiters-depth-2">(</span>current-global-map<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-+"</span><span class="org-rainbow-delimiters-depth-2">)</span> 'spacemacs/zoom-frm-in<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>define-key <span class="org-rainbow-delimiters-depth-2">(</span>current-global-map<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C--"</span><span class="org-rainbow-delimiters-depth-2">)</span> 'spacemacs/zoom-frm-out<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org73b379a" class="outline-4">
<h4 id="org73b379a"><span class="section-number-4">3.4.14.</span> Smart quit when pressing <code>SPC q q</code></h4>
<div class="outline-text-4" id="text-3-4-14">
<p>
If running as a daemon, kill the current frame. Otherwise, prompt to kill Emacs.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">my/smart-quit</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Quit Emacs smartly.
If running as a daemon, kill the current frame.
Otherwise, prompt to kill Emacs."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-3">(</span>daemonp<span class="org-rainbow-delimiters-depth-3">)</span>
      <span class="org-rainbow-delimiters-depth-3">(</span>spacemacs/frame-killer<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>spacemacs/prompt-kill-emacs<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"qq"</span> 'my/smart-quit<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org6d40ff2" class="outline-4">
<h4 id="org6d40ff2"><span class="section-number-4">3.4.15.</span> Make <code>w</code> in vim mode move to end of the word (not stopped by <code>_</code>)</h4>
<div class="outline-text-4" id="text-3-4-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'evil
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defalias</span> #'forward-evil-word #'forward-evil-symbol<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgb940904" class="outline-4">
<h4 id="orgb940904"><span class="section-number-4">3.4.16.</span> Smooth scrolling</h4>
<div class="outline-text-4" id="text-3-4-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Scroll one line at a time (less "jumpy" than defaults)
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> mouse-wheel-scroll-amount '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-highlight-numbers-number">1</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>shift<span class="org-rainbow-delimiters-depth-5">)</span> . <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        mouse-wheel-progressive-speed nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> scroll-step <span class="org-highlight-numbers-number">1</span>
      scroll-margin <span class="org-highlight-numbers-number">0</span>
      scroll-conservatively <span class="org-highlight-numbers-number">100000</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org8eda914" class="outline-4">
<h4 id="org8eda914"><span class="section-number-4">3.4.17.</span> Transparency settings</h4>
<div class="outline-text-4" id="text-3-4-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"tt"</span> 'spacemacs/toggle-transparency<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'after-make-frame-functions 'spacemacs/enable-transparency<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgfaea740" class="outline-4">
<h4 id="orgfaea740"><span class="section-number-4">3.4.18.</span> Turn on xclip-mode</h4>
<div class="outline-text-4" id="text-3-4-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> xclip
  <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>xclip-mode t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org2f9088b" class="outline-4">
<h4 id="org2f9088b"><span class="section-number-4">3.4.19.</span> Use windows key as meta key</h4>
<div class="outline-text-4" id="text-3-4-19">
<p>
It is meant to avoid conflicts with i3wm, where I use <code>alt</code> as the meta key.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> x-super-keysym 'meta<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org60b78d7" class="outline-4">
<h4 id="org60b78d7"><span class="section-number-4">3.4.20.</span> Visiting a file uses its truename as the visited-file name</h4>
<div class="outline-text-4" id="text-3-4-20">
<p>
E.g. when visiting a soft/hard link.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> find-file-visit-truename t<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org0b9dfda" class="outline-4">
<h4 id="org0b9dfda"><span class="section-number-4">3.4.21.</span> Do not autosave undo history</h4>
<div class="outline-text-4" id="text-3-4-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'undo-tree
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> undo-tree-auto-save-history nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org42dac1f" class="outline-4">
<h4 id="org42dac1f"><span class="section-number-4">3.4.22.</span> Native compilation</h4>
<div class="outline-text-4" id="text-3-4-22">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">and</span> <span class="org-rainbow-delimiters-depth-3">(</span>fboundp 'native-comp-available-p<span class="org-rainbow-delimiters-depth-3">)</span>
           <span class="org-rainbow-delimiters-depth-3">(</span>native-comp-available-p<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>message <span class="org-string">"Native compilation is available"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> native-comp-async-report-warnings-errors nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6282f30" class="outline-3">
<h3 id="org6282f30"><span class="section-number-3">3.5.</span> org-mode</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-org51115f0" class="outline-4">
<h4 id="org51115f0"><span class="section-number-4">3.5.1.</span> Do not hide the macro markers</h4>
<div class="outline-text-4" id="text-3-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'org
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-hide-macro-markers nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgb3a6136" class="outline-4">
<h4 id="orgb3a6136"><span class="section-number-4">3.5.2.</span> org-modern</h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
Modern visual styling for org-mode: clean TODO keywords, tables, timestamps, tags, priorities, and heading bullets.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> org-modern
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-mode . org-modern-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-agenda-finalize . org-modern-agenda<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Disable org-modern TODO styling to preserve our custom keyword faces
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-todo nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-done nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Clean table styling
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-table t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Modern timestamps
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-timestamp t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Modern tag styling
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-tag t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Modern priority styling
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-priority t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use pretty star bullets for headings
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-star '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"&#9673;"</span> <span class="org-string">"&#9675;"</span> <span class="org-string">"&#9672;"</span> <span class="org-string">"&#9671;"</span> <span class="org-string">"&#9656;"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Hide leading stars (org-modern handles the display)
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-hide-stars t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Block styling
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-block-fringe nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Horizontal rule
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-horizontal-rule t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org8328f6d" class="outline-4">
<h4 id="org8328f6d"><span class="section-number-4">3.5.3.</span> Export code blocks with current theme</h4>
<div class="outline-text-4" id="text-3-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">my/org-inline-css-hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>exporter<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"Insert custom inline css to automatically set the
background of code to whatever theme I'm using's background"</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-3">(</span>eq exporter 'html<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>my-pre-bg <span class="org-rainbow-delimiters-depth-6">(</span>face-background 'default<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
           <span class="org-rainbow-delimiters-depth-5">(</span>my-pre-fg <span class="org-rainbow-delimiters-depth-6">(</span>face-foreground 'default<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
      <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span>
       org-html-head-extra
       <span class="org-rainbow-delimiters-depth-5">(</span>concat
        org-html-head-extra
        <span class="org-rainbow-delimiters-depth-6">(</span>format <span class="org-string">"&lt;style type=\"text/css\"&gt;\n pre.src {background-color: %s; color: %s;}&lt;/style&gt;\n"</span>
                my-pre-bg my-pre-fg<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'org-export-before-processing-hook 'my/org-inline-css-hook<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org8277080" class="outline-4">
<h4 id="org8277080"><span class="section-number-4">3.5.4.</span> org-ai</h4>
<div class="outline-text-4" id="text-3-5-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> org-ai
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:commands</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-ai-mode
             org-ai-global-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-ai-openai-api-token <span class="org-rainbow-delimiters-depth-3">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"api.openai.com"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'org-mode-hook #'org-ai-mode<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">enable org-ai in org-mode
</span>  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-ai-global-mode<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">installs global keybindings on C-c M-a
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-ai-default-chat-model <span class="org-string">"gpt-4o"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-ai-install-yasnippets<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">if you are using yasnippet and want `ai` snippets</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org0c335cc" class="outline-4">
<h4 id="org0c335cc"><span class="section-number-4">3.5.5.</span> org-pomodora</h4>
<div class="outline-text-4" id="text-3-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Lower the volume of the sounds
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-pomodoro-audio-player <span class="org-string">"play"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-pomodoro-finished-sound-args <span class="org-string">"-v 0.01"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-pomodoro-long-break-sound-args <span class="org-string">"-v 0.01"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-pomodoro-short-break-sound-args <span class="org-string">"-v 0.01"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orge487e3a" class="outline-4">
<h4 id="orge487e3a"><span class="section-number-4">3.5.6.</span> org-agenda</h4>
<div class="outline-text-4" id="text-3-5-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">scan-new-agenda-files</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>org-dir <span class="org-rainbow-delimiters-depth-5">(</span>expand-file-name <span class="org-string">"~/org/"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-4">(</span>file-directory-p org-dir<span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">progn</span>
          <span class="org-rainbow-delimiters-depth-5">(</span>message <span class="org-string">"Scanning new agenda files..."</span><span class="org-rainbow-delimiters-depth-5">)</span>
          <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">setq</span> org-agenda-files <span class="org-rainbow-delimiters-depth-6">(</span>directory-files-recursively org-dir <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">.org$"</span> nil nil t<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
      <span class="org-rainbow-delimiters-depth-4">(</span>message <span class="org-string">"Warning: ~/org/ directory does not exist. Skipping agenda files scan."</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'org-agenda
  <span class="org-rainbow-delimiters-depth-2">(</span>scan-new-agenda-files<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key org-agenda-mode-map <span class="org-string">"m"</span> 'org-agenda-month-view<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key org-agenda-mode-map <span class="org-string">"y"</span> 'org-agenda-year-view<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aou"</span> 'scan-new-agenda-files<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Add category into the ~org-todo-list~ view
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-agenda-prefix-format
      '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>agenda . <span class="org-string">" %i %-12:c%?-12t% s"</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span>todo   . <span class="org-string">" %i %-12:c "</span><span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Added a space here
</span>        <span class="org-rainbow-delimiters-depth-3">(</span>tags   . <span class="org-string">" %i %-12:c"</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span>search . <span class="org-string">" %i %-12:c"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Add custom agenda view for my dashboard
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-agenda-custom-commands
      '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"d"</span> <span class="org-string">"My Dashboard"</span>
         <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>agenda <span class="org-string">""</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>org-agenda-span <span class="org-highlight-numbers-number">7</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>      <span class="org-comment-delimiter">;; </span><span class="org-comment">Show 7 days of calendar
</span>          <span class="org-rainbow-delimiters-depth-5">(</span>todo <span class="org-string">"IN_PROGRESS"</span>                    <span class="org-comment-delimiter">;; </span><span class="org-comment">Show what I'm working on NOW
</span>                <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>org-agenda-overriding-header <span class="org-string">"Current Focus"</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
          <span class="org-rainbow-delimiters-depth-5">(</span>todo <span class="org-string">"TODO"</span>                           <span class="org-comment-delimiter">;; </span><span class="org-comment">Show the rest of the list
</span>                <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>org-agenda-overriding-header <span class="org-string">"Inbox / Backlog"</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>


<span class="org-comment-delimiter">;; </span><span class="org-comment">Customize the colors of TODO keywords for better visual distinction
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-todo-keyword-faces
      '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Standard Flow
</span>        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"TODO"</span>         . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"goldenrod"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"IN_PROGRESS"</span>  . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"deep sky blue"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"UNDER_REVEW"</span>  . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"medium purple"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>

        <span class="org-comment-delimiter">;; </span><span class="org-comment">Bug Tracking Flow
</span>        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"REPORT"</span>       . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"indian red"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"BUG"</span>          . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"red"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"KNOWNCAUSE"</span>   . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"orange"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"FIXED"</span>        . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"green"</span> <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>

        <span class="org-comment-delimiter">;; </span><span class="org-comment">Terminal / Inactive States (Muted)
</span>        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"CANCELED"</span>     . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"dark gray"</span> <span class="org-builtin">:strike-through</span> t<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"REPORTED"</span>     . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:foreground</span> <span class="org-string">"cadet blue"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org41a5bd0" class="outline-4">
<h4 id="org41a5bd0"><span class="section-number-4">3.5.7.</span> org-cv</h4>
<div class="outline-text-4" id="text-3-5-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> ox-awesomecv
  <span class="org-builtin">:load-path</span> <span class="org-string">"~/.spacemacs.d/private/org-cv"</span>
  <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">ox-awesomecv</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgb31a5e1" class="outline-4">
<h4 id="orgb31a5e1"><span class="section-number-4">3.5.8.</span> org-babel</h4>
<div class="outline-text-4" id="text-3-5-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'org
  <span class="org-rainbow-delimiters-depth-2">(</span>org-babel-do-load-languages
   'org-babel-load-languages
   '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>C . t<span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span>python . t<span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span>shell . t<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org7ba3731" class="outline-4">
<h4 id="org7ba3731"><span class="section-number-4">3.5.9.</span> org-latex</h4>
<div class="outline-text-4" id="text-3-5-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'ox-latex
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'org-latex-classes
               '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"scrartcl"</span>
                 <span class="org-string">"\\documentclass[a4paper,11pt]{scrartcl}"</span>
                 <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span><span class="org-rainbow-delimiters-depth-4">)</span>
                 <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span><span class="org-rainbow-delimiters-depth-4">)</span>
                 <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span><span class="org-rainbow-delimiters-depth-4">)</span>
                 <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span><span class="org-rainbow-delimiters-depth-4">)</span>
                 <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

</code></pre>
</div>
</div>
</div>
<div id="outline-container-org9ec2ef2" class="outline-4">
<h4 id="org9ec2ef2"><span class="section-number-4">3.5.10.</span> org-journal</h4>
<div class="outline-text-4" id="text-3-5-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'org-journal
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-journal-dir <span class="org-string">"~/org/home/roam/journal/"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-journal-date-format <span class="org-string">"%A, %m/%d/%Y"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-journal-file-type 'monthly<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-journal-file-format <span class="org-string">"%Y%m%d.org"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys
  <span class="org-string">"aojj"</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-3">)</span>
           <span class="org-rainbow-delimiters-depth-3">(</span>org-journal-new-entry nil<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"aojj"</span> <span class="org-string">"journal-home"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org9fcd909" class="outline-4">
<h4 id="org9fcd909"><span class="section-number-4">3.5.11.</span> org-table</h4>
<div class="outline-text-4" id="text-3-5-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'org-mode
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key org-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"C-&lt;tab&gt;"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'org-table-previous-field<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org5c3ec81" class="outline-4">
<h4 id="org5c3ec81"><span class="section-number-4">3.5.12.</span> org-todo</h4>
<div class="outline-text-4" id="text-3-5-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'org
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>capture-template  <span class="org-string">"* TODO %?\n%U\n%i\n%a"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">progn</span>
      <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span> org-todo-keywords
            '<span class="org-rainbow-delimiters-depth-5">(</span><span class="org-rainbow-delimiters-depth-6">(</span>sequence <span class="org-string">"TODO(t)"</span> <span class="org-string">"IN_PROGRESS"</span> <span class="org-string">"UNDER_REVEW"</span> <span class="org-string">"|"</span> <span class="org-string">"DONE(d)"</span><span class="org-rainbow-delimiters-depth-6">)</span>
              <span class="org-rainbow-delimiters-depth-6">(</span>sequence <span class="org-string">"REPORT(r)"</span> <span class="org-string">"BUG(b)"</span> <span class="org-string">"KNOWNCAUSE(k)"</span> <span class="org-string">"|"</span> <span class="org-string">"FIXED(f)"</span><span class="org-rainbow-delimiters-depth-6">)</span>
              <span class="org-rainbow-delimiters-depth-6">(</span>sequence <span class="org-string">"|"</span> <span class="org-string">"INACTIVE(i)"</span> <span class="org-string">"INCOMPLETE(n)"</span> <span class="org-string">"CANCELED(c)"</span> <span class="org-string">"REPORTED(R)"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
      <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span> org-capture-templates '<span class="org-rainbow-delimiters-depth-5">(</span>
                                    <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-string">"t"</span> <span class="org-string">"Task"</span> entry <span class="org-rainbow-delimiters-depth-7">(</span>file+headline <span class="org-string">"~/org/home/tasks.org"</span> <span class="org-string">"Tasks"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                                     <span class="org-string">"* TODO %?\n%U\n%i\n%a"</span><span class="org-rainbow-delimiters-depth-6">)</span>
                                    <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-string">"e"</span> <span class="org-string">"Email"</span> entry <span class="org-rainbow-delimiters-depth-7">(</span>file+headline <span class="org-string">"~/org/home/tasks.org"</span> <span class="org-string">"Tasks"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                                     <span class="org-string">"* TODO %? [[mu4e:msgid:%l][Email]]\n%U\n%i"</span><span class="org-rainbow-delimiters-depth-6">)</span>
                                    <span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
      <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span> org-project-capture-capture-template capture-template<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys
  <span class="org-string">"aoh"</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-3">(</span>find-file <span class="org-string">"~/org/home/tasks.org"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-string">"aoc"</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-3">(</span>org-capture nil <span class="org-string">"t"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"aoh"</span> <span class="org-string">"org-capture-show-task"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"aoc"</span> <span class="org-string">"org-capture-task"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org4e797ad" class="outline-4">
<h4 id="org4e797ad"><span class="section-number-4">3.5.13.</span> org-hugo</h4>
<div class="outline-text-4" id="text-3-5-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys-for-major-mode 'org-mode <span class="org-string">"Th"</span> 'org-hugo-auto-export-mode<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgd793c97" class="outline-4">
<h4 id="orgd793c97"><span class="section-number-4">3.5.14.</span> org-roam</h4>
<div class="outline-text-4" id="text-3-5-14">
</div>
<div id="outline-container-orgd30cd19" class="outline-5">
<h5 id="orgd30cd19"><span class="section-number-5">3.5.14.1.</span> Automatically sync the database</h5>
<div class="outline-text-5" id="text-3-5-14-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>org-roam-db-autosync-mode<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgc9031c0" class="outline-5">
<h5 id="orgc9031c0"><span class="section-number-5">3.5.14.2.</span> Migrate the current buffer from org-roam v1 to v2</h5>
<div class="outline-text-5" id="text-3-5-14-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">org-roam-migrate-current-buffer-v1-to-v2</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-roam-migrate-v1-to-v2<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga6195af" class="outline-4">
<h4 id="orga6195af"><span class="section-number-4">3.5.15.</span> org-gcal</h4>
<div class="outline-text-4" id="text-3-5-15">
<p>
Sync Google Calendar events into Org Agenda (read-only fetch).
Credentials are stored in <code>~/.authinfo</code> and never committed to the repo.
OAuth tokens are GPG-encrypted via <code>plstore</code>.
</p>

<p>
Setup instructions (one-time, manual):
</p>
<ol class="org-ol">
<li>Create a Google Cloud project, enable Calendar API, create a Desktop OAuth 2.0 client.</li>
<li>In Google Calendar settings, share any secondary account's calendar with your primary Gmail address.</li>
<li>Generate a dedicated GPG key: <code>gpg --full-generate-key</code> (RSA 4096, no expiry).</li>
<li>Note the key ID: <code>gpg --list-secret-keys --keyid-format=long</code></li>
<li>Add to <code>~/.authinfo</code>:
<ul class="org-ul">
<li><code>machine org-gcal-client-id password &lt;client-id&gt;.apps.googleusercontent.com</code></li>
<li><code>machine org-gcal-client-secret password &lt;client-secret&gt;</code></li>
<li><code>machine org-gcal-calendar-id-personal password &lt;personal@gmail.com&gt;</code></li>
<li><code>machine org-gcal-calendar-id-work password &lt;shared-work-calendar-id&gt;</code></li>
<li><code>machine org-gcal-gpg-key-id password &lt;GPG-long-key-id&gt;</code></li>
</ul></li>
<li>On first fetch, approve OAuth access in the browser. Tokens are saved and reused automatically.</li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> org-gcal
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Credentials must be set BEFORE org-gcal.el loads, because it calls
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">org-gcal-reload-client-id-secret at load time to register the OAuth client.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-client-id     <span class="org-rainbow-delimiters-depth-3">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"org-gcal-client-id"</span><span class="org-rainbow-delimiters-depth-3">)</span>
        org-gcal-client-secret <span class="org-rainbow-delimiters-depth-3">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"org-gcal-client-secret"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use asymmetric GPG key for encrypting the OAuth token store.
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Key ID is read from authinfo so it is never hardcoded in this repo.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">plstore</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>gpg-key-id <span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"org-gcal-gpg-key-id"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">when</span> gpg-key-id
      <span class="org-rainbow-delimiters-depth-4">(</span>add-to-list 'plstore-encrypt-to gpg-key-id<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use default pinentry (GNOME3 GUI) now that gpg-agent is configured with pinentry-gnome3.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> epg-pinentry-mode 'default<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Map each calendar ID to its dedicated org file.
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Both files live in ~/org/home/ and are auto-discovered by scan-new-agenda-files.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-fetch-file-alist
        `<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>,<span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"org-gcal-calendar-id-personal"</span><span class="org-rainbow-delimiters-depth-5">)</span>
           . <span class="org-string">"~/org/home/gcal/gcal-personal.org"</span><span class="org-rainbow-delimiters-depth-4">)</span>
          <span class="org-rainbow-delimiters-depth-4">(</span>,<span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"org-gcal-calendar-id-work"</span><span class="org-rainbow-delimiters-depth-5">)</span>
           . <span class="org-string">"~/org/home/gcal/gcal-work.org"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>

   <span class="org-comment-delimiter">;; </span><span class="org-comment">Fetch window: 7 days back, 30 days forward.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-up-days   <span class="org-highlight-numbers-number">7</span>
        org-gcal-down-days <span class="org-highlight-numbers-number">30</span><span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Do not auto-archive old events outside the fetch window.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-auto-archive nil<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Ask before removing events that appear cancelled/missing on Google's side.
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Avoids silent archiving of items that are simply outside the fetch window.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-update-cancelled-events-with-todo t
        org-gcal-remove-api-cancelled-events       'ask<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Collect recurring event instances under their parent headline.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-recurring-events-mode 'nested<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Suppress popup notifications.
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-gcal-notify-p nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Safe fetch wrapper: clears stale sync lock before fetching.
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Uses org-gcal-fetch (read-only &#8212; never pushes local changes back to Google).
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">my/org-gcal-fetch-safe</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Fetch Google Calendar events, clearing any stale sync lock first."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
   <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-gcal</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">bound-and-true-p</span> org-gcal--sync-lock<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-warning">warn</span> <span class="org-string">"org-gcal: stale sync lock detected, clearing it."</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>org-gcal--sync-unlock<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-gcal-fetch<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Auto-fetch every 30 minutes. Adjust the interval as needed.
</span><span class="org-rainbow-delimiters-depth-1">(</span>run-at-time <span class="org-string">"30 min"</span> <span class="org-highlight-numbers-number">1800</span> #'my/org-gcal-fetch-safe<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Manual sync keybinding: SPC a o s
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"aos"</span> 'my/org-gcal-fetch-safe<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org06f08f9" class="outline-4">
<h4 id="org06f08f9"><span class="section-number-4">3.5.16.</span> org-clock</h4>
<div class="outline-text-4" id="text-3-5-16">
</div>
<div id="outline-container-org338c865" class="outline-5">
<h5 id="org338c865"><span class="section-number-5">3.5.16.1.</span> Save the clock history across Emacs sessions</h5>
<div class="outline-text-5" id="text-3-5-16-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-clock-persist 'history<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>org-clock-persistence-insinuate<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org320bec3" class="outline-4">
<h4 id="org320bec3"><span class="section-number-4">3.5.17.</span> Replace selected markdown region to org format</h4>
<div class="outline-text-4" id="text-3-5-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">replace-markdown-region-with-org</span> <span class="org-rainbow-delimiters-depth-2">(</span>beginning end<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"Replace the selected markdown region with its corresponding org-mode format."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span> <span class="org-string">"r"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-3">(</span>use-region-p<span class="org-rainbow-delimiters-depth-3">)</span>
      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>tmp-buffer <span class="org-string">"Markdown To Org Tmp"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">pcase</span> <span class="org-rainbow-delimiters-depth-5">(</span>shell-command-on-region <span class="org-rainbow-delimiters-depth-6">(</span>region-beginning<span class="org-rainbow-delimiters-depth-6">)</span> <span class="org-rainbow-delimiters-depth-6">(</span>region-end<span class="org-rainbow-delimiters-depth-6">)</span>
                                        <span class="org-string">"pandoc -f markdown -t org"</span> tmp-buffer t<span class="org-rainbow-delimiters-depth-5">)</span>
          <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-highlight-numbers-number">0</span> <span class="org-rainbow-delimiters-depth-6">(</span>message <span class="org-string">"Successfully converted to org-mode format."</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
          <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-highlight-numbers-number">127</span> <span class="org-rainbow-delimiters-depth-6">(</span>message <span class="org-string">"pandoc not found. Install it with 'sudo apt install pandoc'."</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
          <span class="org-rainbow-delimiters-depth-5">(</span>_ <span class="org-rainbow-delimiters-depth-6">(</span>message <span class="org-string">"Failed to convert the selected region to org-mode format."</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
          <span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>message <span class="org-string">"No active region is found."</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys-for-major-mode 'org-mode <span class="org-string">"RR"</span> 'replace-markdown-region-with-org<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org0c10ecd" class="outline-4">
<h4 id="org0c10ecd"><span class="section-number-4">3.5.18.</span> ob-lean4</h4>
<div class="outline-text-4" id="text-3-5-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> ob-lean4
  <span class="org-builtin">:load-path</span> <span class="org-string">"~/.spacemacs.d/private/ob-lean4"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'org-babel-load-languages '<span class="org-rainbow-delimiters-depth-2">(</span>lean4 . t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org6e2b9cc" class="outline-4">
<h4 id="org6e2b9cc"><span class="section-number-4">3.5.19.</span> ob-cmake</h4>
<div class="outline-text-4" id="text-3-5-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> ob-cmake
  <span class="org-builtin">:load-path</span> <span class="org-string">"~/.spacemacs.d/private/ob-cmake"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'org-babel-load-languages '<span class="org-rainbow-delimiters-depth-2">(</span>cmake . t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org044db7a" class="outline-4">
<h4 id="org044db7a"><span class="section-number-4">3.5.20.</span> ob-rust</h4>
<div class="outline-text-4" id="text-3-5-20">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">require</span> '<span class="org-constant">ob-rust</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'org-babel-load-languages '<span class="org-rainbow-delimiters-depth-2">(</span>rust . t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org04f4d92" class="outline-3">
<h3 id="org04f4d92"><span class="section-number-3">3.6.</span> Utility</h3>
<div class="outline-text-3" id="text-3-6">
</div>
<div id="outline-container-org17444bf" class="outline-4">
<h4 id="org17444bf"><span class="section-number-4">3.6.1.</span> beacon mode</h4>
<div class="outline-text-4" id="text-3-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>beacon-mode <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orge583eb4" class="outline-4">
<h4 id="orge583eb4"><span class="section-number-4">3.6.2.</span> Toggle clang-format on save</h4>
<div class="outline-text-4" id="text-3-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">c-c++-toggle-clang-format-on-save</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">cond</span>
   <span class="org-rainbow-delimiters-depth-3">(</span>c-c++-enable-clang-format-on-save
    <span class="org-rainbow-delimiters-depth-4">(</span>message <span class="org-string">"[c-c++] disable clang-format on save"</span><span class="org-rainbow-delimiters-depth-4">)</span>
    <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span> c-c++-enable-clang-format-on-save nil<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
   <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>not c-c++-enable-clang-format-on-save<span class="org-rainbow-delimiters-depth-4">)</span>
    <span class="org-rainbow-delimiters-depth-4">(</span>message <span class="org-string">"[c-c++] enable clang-format on save"</span><span class="org-rainbow-delimiters-depth-4">)</span>
    <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span> c-c++-enable-clang-format-on-save t<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
   <span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys-for-major-mode 'c-mode <span class="org-string">"Tf"</span> 'c-c++-toggle-clang-format-on-save<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys-for-major-mode 'c++-mode <span class="org-string">"Tf"</span> 'c-c++-toggle-clang-format-on-save<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix-for-mode 'c-mode <span class="org-string">"Tf"</span> <span class="org-string">"toggle-clang-format-on-save"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix-for-mode 'c++-mode <span class="org-string">"Tf"</span> <span class="org-string">"toggle-clang-format-on-save"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org13b7755" class="outline-4">
<h4 id="org13b7755"><span class="section-number-4">3.6.3.</span> auto-indent</h4>
<div class="outline-text-4" id="text-3-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">I want to disable pasting with formatting on C/C++ buffers
</span><span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'spacemacs-indent-sensitive-modes 'c-mode<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'spacemacs-indent-sensitive-modes 'c++-mode<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org7faf8c5" class="outline-4">
<h4 id="org7faf8c5"><span class="section-number-4">3.6.4.</span> format-all</h4>
<div class="outline-text-4" id="text-3-6-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'sh-mode-hook #'format-all-mode<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'fish-mode-hook #'format-all-mode<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'cmake-mode-hook #'format-all-mode<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org45b2f4e" class="outline-4">
<h4 id="org45b2f4e"><span class="section-number-4">3.6.5.</span> glow, the markdown viewer</h4>
<div class="outline-text-4" id="text-3-6-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Configure glow viewer
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">start-glow-viewer</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>start-process <span class="org-string">"glow-markdown-viewer"</span> nil
                 <span class="org-string">"/usr/bin/x-terminal-emulator"</span>
                 <span class="org-rainbow-delimiters-depth-3">(</span>file-truename <span class="org-string">"~/.spacemacs.d/scripts/glow_mk_viewer.sh"</span><span class="org-rainbow-delimiters-depth-3">)</span>
                 <span class="org-rainbow-delimiters-depth-3">(</span>buffer-file-name nil<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgf67ae43" class="outline-4">
<h4 id="orgf67ae43"><span class="section-number-4">3.6.6.</span> google-search</h4>
<div class="outline-text-4" id="text-3-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Set google as default search engine and open links with xdg-open or open depending on the OS
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"ag"</span> 'engine/search-google<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> browse-url-browser-function 'browse-url-generic
      engine/browser-function 'browse-url-generic
      browse-url-generic-program <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">cond</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>string-equal system-type <span class="org-string">"darwin"</span><span class="org-rainbow-delimiters-depth-4">)</span> <span class="org-string">"open"</span><span class="org-rainbow-delimiters-depth-3">)</span>
                                        <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>string-equal system-type <span class="org-string">"gnu/linux"</span><span class="org-rainbow-delimiters-depth-4">)</span> <span class="org-string">"xdg-open"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgb23bf45" class="outline-4">
<h4 id="orgb23bf45"><span class="section-number-4">3.6.7.</span> Kill all buffers</h4>
<div class="outline-text-4" id="text-3-6-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">nuke-all-buffers</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>mapcar 'kill-buffer <span class="org-rainbow-delimiters-depth-3">(</span>buffer-list<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>delete-other-windows<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-x K"</span><span class="org-rainbow-delimiters-depth-2">)</span> 'nuke-all-buffers<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org06b1dca" class="outline-4">
<h4 id="org06b1dca"><span class="section-number-4">3.6.8.</span> ranger</h4>
<div class="outline-text-4" id="text-3-6-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'ranger
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">hydra</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key ranger-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-h"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'ranger-prev-tab<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key ranger-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-l"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'ranger-next-tab<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key ranger-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"M-n"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'ranger-new-tab<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"ar"</span> 'ranger<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orga5702e0" class="outline-4">
<h4 id="orga5702e0"><span class="section-number-4">3.6.9.</span> cheat.sh</h4>
<div class="outline-text-4" id="text-3-6-9">
<p>
The one and only one cheatsheet.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"ac"</span> <span class="org-string">"cheat-sh"</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Prompt to select a topic to show its cheatsheet
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"acl"</span> 'cheat-sh<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Show the help page of cheat.sh
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"ach"</span> 'cheat-sh-help<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Get the cheatsheet for the marked region
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"acr"</span> 'cheat-sh-region<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Get a random page of cheatsheet
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"acr"</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span>
    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">(</span>cheat-sh <span class="org-string">":random"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"acr"</span> <span class="org-string">"cheat.sh/:random"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org22df7e9" class="outline-4">
<h4 id="org22df7e9"><span class="section-number-4">3.6.10.</span> chatgpt-shell</h4>
<div class="outline-text-4" id="text-3-6-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> chatgpt-shell
  <span class="org-builtin">:load-path</span> <span class="org-string">"~/.spacemacs.d/private/chatgpt-shell"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> chatgpt-shell-openai-key
      <span class="org-rainbow-delimiters-depth-2">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"api.openai.com"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6fb1e8a" class="outline-3">
<h3 id="org6fb1e8a"><span class="section-number-3">3.7.</span> mu4e</h3>
<div class="outline-text-3" id="text-3-7">
<p>
Email client using <code>mu4e</code> (Spacemacs layer) + <code>mbsync</code> (isync) for IMAP sync.
Two Gmail accounts: personal and work. Credentials stored in <code>~/.authinfo</code> (not committed).
Requires: <code>apt install isync maildir-utils mu4e w3m</code>
</p>
</div>
<div id="outline-container-orge66d860" class="outline-4">
<h4 id="orge66d860"><span class="section-number-4">3.7.1.</span> Setup instructions (one-time)</h4>
<div class="outline-text-4" id="text-3-7-1">
<p>
Run these commands once after installing the system:
</p>
<div class="org-src-container">
<pre class="src src-sh"><code><span class="org-comment-delimiter"># </span><span class="org-comment">Create maildir structure
</span>mkdir -p ~/.mail/personal/<span class="org-rainbow-delimiters-depth-1">{</span>cur,new,tmp<span class="org-rainbow-delimiters-depth-1">}</span>
mkdir -p ~/.mail/work/<span class="org-rainbow-delimiters-depth-1">{</span>cur,new,tmp<span class="org-rainbow-delimiters-depth-1">}</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Initial mail sync (after ~/.mbsyncrc is configured)
</span>mbsync -a

<span class="org-comment-delimiter"># </span><span class="org-comment">Index mail with mu (after initial sync)
</span>mu init --maildir=~/.mail <span class="org-sh-escaped-newline">\</span>
    --my-address=$<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-sh-quoted-exec">pass show or cat ~/.authinfo | grep mu4e-email-personal ...</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-sh-escaped-newline">\</span>
    --my-address=$<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-sh-quoted-exec">...</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Simpler: let mu4e run mu init on first launch via mu4e-update-mail-and-index</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org44fce05" class="outline-4">
<h4 id="org44fce05"><span class="section-number-4">3.7.2.</span> Configuration</h4>
<div class="outline-text-4" id="text-3-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'mu4e
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Basic settings
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> mu4e-maildir <span class="org-string">"~/.mail"</span>
        mu4e-get-mail-command <span class="org-string">"mbsync -a"</span>
        mu4e-update-interval <span class="org-rainbow-delimiters-depth-3">(</span>* <span class="org-highlight-numbers-number">5</span> <span class="org-highlight-numbers-number">60</span><span class="org-rainbow-delimiters-depth-3">)</span>       <span class="org-comment-delimiter">; </span><span class="org-comment">sync every 5 minutes
</span>        mu4e-compose-signature-auto-include nil
        mu4e-view-show-images t
        mu4e-view-image-max-width <span class="org-highlight-numbers-number">800</span>
        mu4e-headers-date-format <span class="org-string">"%Y-%m-%d"</span>
        mu4e-headers-time-format <span class="org-string">"%H:%M"</span>
        mu4e-change-filenames-when-moving t  <span class="org-comment-delimiter">; </span><span class="org-comment">avoid duplicate UID issues
</span>        mu4e-confirm-quit nil<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Maildir shortcuts shown in the main view
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> mu4e-maildir-shortcuts
        '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:maildir</span> <span class="org-string">"/personal/INBOX"</span>             <span class="org-builtin">:key</span> ?i <span class="org-builtin">:name</span> <span class="org-string">"Personal Inbox"</span><span class="org-rainbow-delimiters-depth-4">)</span>
          <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:maildir</span> <span class="org-string">"/personal/[Gmail]/Sent Mail"</span> <span class="org-builtin">:key</span> ?s <span class="org-builtin">:name</span> <span class="org-string">"Personal Sent"</span><span class="org-rainbow-delimiters-depth-4">)</span>
          <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:maildir</span> <span class="org-string">"/work/INBOX"</span>                 <span class="org-builtin">:key</span> ?I <span class="org-builtin">:name</span> <span class="org-string">"Work Inbox"</span><span class="org-rainbow-delimiters-depth-4">)</span>
          <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:maildir</span> <span class="org-string">"/work/[Gmail]/Sent Mail"</span>     <span class="org-builtin">:key</span> ?S <span class="org-builtin">:name</span> <span class="org-string">"Work Sent"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">HTML rendering with w3m
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> mu4e-html2text-command <span class="org-string">"w3m -T text/html"</span><span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Read account identities from ~/.authinfo
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>personal-email <span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"mu4e-email-personal"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-rainbow-delimiters-depth-4">(</span>personal-name  <span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"mu4e-name-personal"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-rainbow-delimiters-depth-4">(</span>work-email     <span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"mu4e-email-work"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-rainbow-delimiters-depth-4">(</span>work-name      <span class="org-rainbow-delimiters-depth-5">(</span>auth-source-pick-first-password <span class="org-builtin">:host</span> <span class="org-string">"mu4e-name-work"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Contexts: one per account
</span>    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> mu4e-contexts
          <span class="org-rainbow-delimiters-depth-4">(</span>list
           <span class="org-rainbow-delimiters-depth-5">(</span>make-mu4e-context
            <span class="org-builtin">:name</span> <span class="org-string">"Personal"</span>
            <span class="org-builtin">:match-func</span>
            <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-7">(</span>msg<span class="org-rainbow-delimiters-depth-7">)</span>
              <span class="org-rainbow-delimiters-depth-7">(</span><span class="org-keyword">when</span> msg
                <span class="org-rainbow-delimiters-depth-8">(</span>string-prefix-p <span class="org-string">"/personal"</span> <span class="org-rainbow-delimiters-depth-9">(</span>mu4e-message-field msg <span class="org-builtin">:maildir</span><span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
            <span class="org-builtin">:vars</span> `<span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>user-mail-address       . ,personal-email<span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>user-full-name          . ,personal-name<span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-sent-folder        . <span class="org-string">"/personal/[Gmail]/Sent Mail"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-drafts-folder      . <span class="org-string">"/personal/[Gmail]/Drafts"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-trash-folder       . <span class="org-string">"/personal/[Gmail]/Bin"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-refile-folder      . <span class="org-string">"/personal/Archive"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-smtp-user      . ,personal-email<span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-smtp-server    . <span class="org-string">"smtp.gmail.com"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-smtp-service   . <span class="org-highlight-numbers-number">587</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-stream-type    . starttls<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
           <span class="org-rainbow-delimiters-depth-5">(</span>make-mu4e-context
            <span class="org-builtin">:name</span> <span class="org-string">"Work"</span>
            <span class="org-builtin">:match-func</span>
            <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-7">(</span>msg<span class="org-rainbow-delimiters-depth-7">)</span>
              <span class="org-rainbow-delimiters-depth-7">(</span><span class="org-keyword">when</span> msg
                <span class="org-rainbow-delimiters-depth-8">(</span>string-prefix-p <span class="org-string">"/work"</span> <span class="org-rainbow-delimiters-depth-9">(</span>mu4e-message-field msg <span class="org-builtin">:maildir</span><span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
            <span class="org-builtin">:vars</span> `<span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>user-mail-address       . ,work-email<span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>user-full-name          . ,work-name<span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-sent-folder        . <span class="org-string">"/work/[Gmail]/Sent Mail"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-drafts-folder      . <span class="org-string">"/work/[Gmail]/Drafts"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-trash-folder       . <span class="org-string">"/work/[Gmail]/Bin"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>mu4e-refile-folder      . <span class="org-string">"/work/Archive"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-smtp-user      . ,work-email<span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-smtp-server    . <span class="org-string">"smtp.gmail.com"</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-smtp-service   . <span class="org-highlight-numbers-number">587</span><span class="org-rainbow-delimiters-depth-7">)</span>
                    <span class="org-rainbow-delimiters-depth-7">(</span>smtpmail-stream-type    . starttls<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Policy: ask which context on ambiguous messages; default to Personal
</span>    <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> mu4e-context-policy 'pick-first
          mu4e-compose-context-policy 'ask-if-none<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">SMTP via smtpmail &#8212; passwords come from ~/.authinfo automatically
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> send-mail-function         'smtpmail-send-it
        message-send-mail-function 'smtpmail-send-it
        smtpmail-auth-credentials  <span class="org-string">"~/.authinfo"</span><span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">org-mu4e integration: store links to emails (mu4e-org replaces org-mu4e since mu 1.8)
</span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">mu4e-org</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-mu4e-link-query-in-headers-mode nil<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use '</span><span class="org-comment"><span class="org-constant">Q</span></span><span class="org-comment">' to truly quit mu4e
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>define-key mu4e-main-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"Q"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'mu4e-quit<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key mu4e-headers-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"Q"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'mu4e-quit<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key mu4e-view-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"Q"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'mu4e-quit<span class="org-rainbow-delimiters-depth-2">)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use '</span><span class="org-comment"><span class="org-constant">q</span></span><span class="org-comment">' to just bury the buffer (background)
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>define-key mu4e-main-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"q"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'mu4e-view-quit<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key mu4e-headers-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"q"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'mu4e-view-quit<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>define-key mu4e-view-mode-map <span class="org-rainbow-delimiters-depth-3">(</span>kbd <span class="org-string">"q"</span><span class="org-rainbow-delimiters-depth-3">)</span> 'mu4e-view-quit<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Keybinding: open mu4e with SPC a m
</span><span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/set-leader-keys <span class="org-string">"am"</span> 'mu4e<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>spacemacs/declare-prefix <span class="org-string">"am"</span> <span class="org-string">"mu4e-mail"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>mu4e t<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfe2e3ef" class="outline-3">
<h3 id="orgfe2e3ef"><span class="section-number-3">3.8.</span> Workarounds</h3>
<div class="outline-text-3" id="text-3-8">
</div>
<div id="outline-container-org1eafc02" class="outline-4">
<h4 id="org1eafc02"><span class="section-number-4">3.8.1.</span> Workaround for the <a href="https://github.com/company-mode/company-mode/issues/383">bug</a> where company-mode and evil-mode are conflicting</h4>
<div class="outline-text-4" id="text-3-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>evil-declare-change-repeat 'company-complete<span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org1999262" class="outline-4">
<h4 id="org1999262"><span class="section-number-4">3.8.2.</span> doom-modeline icons in GUI vs terminal</h4>
<div class="outline-text-4" id="text-3-8-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-comment-delimiter">;; </span><span class="org-comment">Enable doom-modeline icons in GUI, disable in terminal
</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-eval-after-load</span> 'doom-modeline
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> doom-modeline-icon <span class="org-rainbow-delimiters-depth-3">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">When creating a new frame (e.g. emacsclient), re-check
</span>  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'after-make-frame-functions
            <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">(</span>frame<span class="org-rainbow-delimiters-depth-4">)</span>
              <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">with-selected-frame</span> frame
                <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">setq</span> doom-modeline-icon <span class="org-rainbow-delimiters-depth-6">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org7fa2206" class="outline-4">
<h4 id="org7fa2206"><span class="section-number-4">3.8.3.</span> Workaround for spammed false positive warning messages</h4>
<div class="outline-text-4" id="text-3-8-3">
<p>
Ticket: <a href="https://github.com/syl20bnr/spacemacs/issues/16575">syl20bnr/spacemacs#16575 org-element-at-point cannot be used in non-Org buffer</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code><span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'warning-suppress-types '<span class="org-rainbow-delimiters-depth-2">(</span>org-element org-element-parser<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2026-02-26 Thu 13:24</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
